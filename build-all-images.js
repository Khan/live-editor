/**
 * Running this file will regenerate js/shared/all-images.js
 */
var fs = require("fs");
var path = require("path");

var images = [];
fs.readdirSync("images").forEach(function(group) {
    if (fs.statSync(path.join("images", group)).isDirectory()) {
        images.push({
            groupName: group,
            images: fs
                .readdirSync(path.join("images", group))
                .filter(function(image) {
                    return fs
                        .statSync(path.join("images", group, image))
                        .isFile();
                })
                .map(function(image) {
                    return image.replace(".png", "");
                }),
        });
    }
});

fs.writeFileSync(
    path.join("js", "shared", "all-images.js"),
    `// autogenerated: run 'node build-all-images.js'
     // from the root folder to rebuild\n
    const AllImages = ${JSON.stringify(images, null, 4)};\n
    export default AllImages;
    `,
);
